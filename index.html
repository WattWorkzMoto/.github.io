<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watt Workz Moto</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<script src="https://www.paypal.com/sdk/js?client-id=ASAyrFLqSKuiYBJ8cYg0OKjMBUllPxQyu3r5q_-tcn-g5gsVl8EK4gR0PRHYwpmPv6yYcDIJmEqkbgQr&currency=USD"></script>

<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: Arial, sans-serif;
}

header {
  padding: 40px;
  text-align: center;
  border-bottom: 1px solid #333;
}

header h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: 3em;
}

header p {
  color: #aaa;
}

.products {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 25px;
  max-width: 1500px;
  margin: 40px auto;
  padding: 0 20px;
}

.card {
  border: 1px solid #fff;
  border-radius: 14px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  background: #000;
}

.card img {
  width: 100%;
  height: 170px;
  object-fit: cover;
  border-radius: 10px;
}

.card h3 {
  margin: 10px 0 5px;
}

.brand {
  color: #aaa;
  font-size: 0.85em;
}

.price {
  font-size: 1.2em;
  margin: 10px 0;
}

.actions {
  margin-top: auto;
}

button {
  padding: 8px 14px;
  margin-right: 6px;
  border-radius: 6px;
  border: none;
  font-weight: bold;
  cursor: pointer;
}

.buy {
  background: #fff;
  color: #000;
}

.info {
  background: transparent;
  color: #fff;
  border: 1px solid #fff;
}

.info-panel {
  display: none;
  margin-top: 10px;
  padding: 10px;
  border: 1px solid #333;
  border-radius: 8px;
  background: #111;
  font-size: 0.85em;
}

.checkout {
  display: none;
  max-width: 500px;
  margin: 40px auto;
  padding: 20px;
  border: 1px solid #fff;
  border-radius: 12px;
  text-align: center;
}
</style>
</head>

<body>

<header>
  <h1>Watt Workz Moto</h1>
  <p>Electro & Co • EBMX • Nucular • Performance Upgrades</p>
</header>

<div class="products" id="products"></div>

<div class="checkout" id="checkout">
  <h2 id="checkoutTitle"></h2>
  <p>Total: $<span id="checkoutPrice"></span></p>
  <div id="paypal-button-container"></div>
</div>

<script>
const catalog = [];
let id = 1;

// IMAGE SETS BY CATEGORY
const images = {
  motor: "https://images.unsplash.com/photo-1605559424843-9c3b1efc9f9d",
  controller: "https://images.unsplash.com/photo-1593941707874-ef25b8b4a92b",
  battery: "https://images.unsplash.com/photo-1581092334903-9c8c4c8b10f7",
  pegs: "https://images.unsplash.com/photo-1599940824399-b87987ceb72a",
  bars: "https://images.unsplash.com/photo-1503376780353-7e6692767b70",
  sprocket: "https://images.unsplash.com/photo-1595474472287-4d71bcdd2085"
};

// GENERATE 120 PRODUCTS
const brands = ["Electro & Co", "EBMX", "Nucular"];
const categories = [
  { name: "Motor Upgrade", img: "motor", price: [1800, 3200] },
  { name: "Controller", img: "controller", price: [900, 1600] },
  { name: "Battery", img: "battery", price: [1200, 2100] },
  { name: "Foot Pegs", img: "pegs", price: [80, 180] },
  { name: "Handlebars", img: "bars", price: [90, 220] },
  { name: "Sprocket", img: "sprocket", price: [60, 160] }
];

for (let b of brands) {
  for (let c of categories) {
    for (let i = 0; i < 7; i++) {
      const price = Math.floor(
        Math.random() * (c.price[1] - c.price[0]) + c.price[0]
      );
      catalog.push({
        id: id++,
        name: `${b} ${c.name} ${i + 1}`,
        brand: b,
        price,
        image: images[c.img],
        info: `
<strong>Specs:</strong><br>
• High-quality ${c.name.toLowerCase()}<br>
• Designed for performance builds<br><br>
<strong>Compatibility:</strong><br>
✔ Sur-Ron Light Bee<br>
✔ Talaria Sting / MX4<br>
✔ Custom e-moto builds
`
      });
    }
  }
}

// RENDER PRODUCTS
const container = document.getElementById("products");

catalog.forEach(p => {
  container.innerHTML += `
  <div class="card">
    <img src="${p.image}">
    <h3>${p.name}</h3>
    <div class="brand">${p.brand}</div>
    <div class="price">$${p.price}</div>
    <div class="actions">
      <button class="buy" onclick="startCheckout('${p.name}', ${p.price})">Buy</button>
      <button class="info" onclick="toggleInfo(${p.id})">Info</button>
    </div>
    <div class="info-panel" id="info${p.id}">
      ${p.info}
    </div>
  </div>`;
});

function toggleInfo(id) {
  const el = document.getElementById("info" + id);
  el.style.display = el.style.display === "block" ? "none" : "block";
}

let paypalRendered = false;
let current = {};

function startCheckout(name, price) {
  current = { name, price };
  document.getElementById("checkout").style.display = "block";
  document.getElementById("checkoutTitle").innerText = name;
  document.getElementById("checkoutPrice").innerText = price.toFixed(2);

  if (!paypalRendered) {
    paypalRendered = true;
    paypal.Buttons({
      createOrder: (data, actions) =>
        actions.order.create({
          purchase_units: [{
            description: current.name,
            amount: { value: current.price.toFixed(2) }
          }]
        }),
      onApprove: (data, actions) =>
        actions.order.capture().then(() =>
          alert("Payment successful!")
        )
    }).render("#paypal-button-container");
  }

  window.scrollTo(0, document.body.scrollHeight);
}
</script>

</body>
</html>
